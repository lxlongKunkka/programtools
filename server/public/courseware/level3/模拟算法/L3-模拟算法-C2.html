<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡æ‹Ÿç®—æ³• - Chapter 2: åŸºæœ¬æ­¥éª¤</title>
    <style>
        /* --- åŸºç¡€å’Œå¸ƒå±€ (ä¿æŒä¸€è‡´) --- */
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #000;
        }

        .ppt-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            padding: 4vh 6vw;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out;
            overflow-y: auto;
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        /* --- å¯¼èˆªæŒ‰é’® --- */
        .nav-button {
            position: absolute;
            bottom: 30px;
            z-index: 10;
            background-color: rgba(33, 150, 243, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: background-color 0.3s, transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .nav-button:hover {
            background-color: #2196F3;
            transform: scale(1.1);
        }
        #prevBtn { left: 30px; }
        #nextBtn { right: 30px; }
        #prevBtn:disabled, #nextBtn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: scale(1);
        }

        /* --- é¡µé¢è®¡æ•°å™¨ --- */
        #slideCounter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            background-color: rgba(0,0,0,0.4);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 14px;
        }

        /* --- å¹»ç¯ç‰‡å†…å®¹æ ·å¼ --- */
        .slide-header { flex-shrink: 0; }
        .slide-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 { font-size: clamp(2.5em, 5vw, 4em); color: #333; margin: 0; text-align: center; }
        h2 { font-size: clamp(2em, 4vw, 2.8em); color: #2196F3; border-bottom: 3px solid #f0f2f5; padding-bottom: 15px; margin-top: 0; margin-bottom: 2vh; }
        h3 { font-size: clamp(1.2em, 2.5vw, 1.8em); color: #555; text-align: center; margin-top: 20px; }
        p, li { font-size: clamp(1em, 2vw, 1.2em); line-height: 1.6; color: #444; }
        ul { padding-left: 25px; }
        .center-content { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100%; }
        .icon { font-size: clamp(3em, 6vw, 4.5em); margin-bottom: 20px; }
        .highlight { color: #2196F3; font-weight: bold; }
        .conclusion { margin-top: 3vh; padding: 15px; background-color: #e3f2fd; border-left: 5px solid #2196F3; border-radius: 4px; font-style: italic; }
        
        /* æœ¬ç« ç‰¹å®šæ ·å¼ */
        .container { display: flex; width: 100%; gap: 30px; align-items: flex-start; }
        .col { flex: 1; text-align: left; }

        /* ä¸‰æ­¥æ³•å¡ç‰‡ */
        .step-card {
            background: #fff; border: 2px solid #ddd; border-radius: 8px; padding: 15px;
            margin-bottom: 15px; display: flex; align-items: center; gap: 15px;
            transition: 0.3s;
        }
        .step-card:hover { border-color: #2196F3; transform: translateX(10px); }
        .step-num { 
            background: #2196F3; color: #fff; width: 40px; height: 40px; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0;
        }

        /* èœ—ç‰›çˆ¬äº•åŠ¨ç”» */
        .well-container {
            width: 100px; height: 300px; border: 4px solid #555; border-top: none;
            background: #e0e0e0; position: relative; margin: 0 auto;
            background: linear-gradient(to bottom, #81D4FA 0%, #455A64 100%);
        }
        .snail {
            font-size: 30px; position: absolute; left: 50%; transform: translateX(-50%);
            bottom: 0px; transition: bottom 0.5s ease-in-out;
        }
        .ruler {
            position: absolute; right: -40px; height: 100%; display: flex; flex-direction: column-reverse; justify-content: space-between; font-size: 12px; color: #666;
        }
        
        /* çŠ¶æ€é¢æ¿ */
        .status-panel {
            background: #333; color: #fff; padding: 15px; border-radius: 8px; margin-top: 20px;
            font-family: monospace; display: flex; justify-content: space-around;
        }
        .log-text { color: #0f0; font-weight: bold; }

        /* ä»£ç å—æ ·å¼ */
        .code-block {
            background-color: #ffffff;
            color: #333333;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-family: "Courier New", Courier, monospace;
            white-space: pre-wrap;
            margin-top: 2vh;
            font-size: clamp(0.8em, 1.6vw, 1em);
            line-height: 1.5;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .code-comment { color: #008000; font-style: italic; }
        .code-keyword { color: #0000ff; font-weight: bold; }
        .code-func { color: #795e26; }
        .code-num { color: #a31515; }
    </style>
</head>
<body>

    <div class="ppt-container">
        <!-- Slide 1: å°é¢ -->
        <section class="slide active" id="slide-1">
            <div class="center-content">
                <div class="icon">ğŸ§©</div>
                <h1>Chapter 2: è§£é¢˜ä¸‰æ­¥æ³•</h1>
                <h3>â€”â€” åˆ†æ &rarr; å»ºæ¨¡ &rarr; ç¼–ç </h3>
            </div>
        </section>

        <!-- Slide 2: è§£é¢˜ä¸‰æ­¥æ³• -->
        <section class="slide" id="slide-2">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ—ºï¸</span> è§£é¢˜ä¸‰æ­¥æ³•</h2>
            </div>
            <div class="slide-content">
                <div class="container">
                    <div class="col">
                        <div class="step-card">
                            <div class="step-num">1</div>
                            <div>
                                <strong>æµç¨‹åˆ†æ (Analyze)</strong><br>
                                <span style="font-size:0.8em; color:#666">æ‹†è§£æ“ä½œæ­¥éª¤ï¼Œæ˜ç¡®è¾“å…¥è¾“å‡ºã€‚</span>
                            </div>
                        </div>
                        <div class="step-card">
                            <div class="step-num">2</div>
                            <div>
                                <strong>æ¨¡å‹æŠ½è±¡ (Model)</strong><br>
                                <span style="font-size:0.8em; color:#666">ç”¨å˜é‡è¡¨ç¤ºçŠ¶æ€ (å¦‚ height, day)ã€‚</span>
                            </div>
                        </div>
                        <div class="step-card">
                            <div class="step-num">3</div>
                            <div>
                                <strong>ä»£ç å®ç° (Code)</strong><br>
                                <span style="font-size:0.8em; color:#666">ç”¨å¾ªç¯å¤åˆ»æµç¨‹ï¼Œæ³¨æ„è¾¹ç•Œã€‚</span>
                            </div>
                        </div>
                    </div>
                    <div class="col" style="display:flex; align-items:center; justify-content:center;">
                        <div style="font-size: 100px;">ğŸ§©</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: ç»å…¸æ¡ˆä¾‹ï¼šèœ—ç‰›çˆ¬äº• -->
        <section class="slide" id="slide-3">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸŒ</span> ç»å…¸æ¡ˆä¾‹ï¼šèœ—ç‰›çˆ¬äº•</h2>
            </div>
            <div class="slide-content">
                <div class="container">
                    <div class="col">
                        <p><strong>é¢˜ç›®ï¼š</strong></p>
                        <p style="font-size:0.9em;">äº•æ·± 10 ç±³ã€‚èœ—ç‰›ç™½å¤©çˆ¬ 3 ç±³ï¼Œæ™šä¸Šæ»‘ 2 ç±³ã€‚é—®ç¬¬å‡ å¤©çˆ¬å‡ºæ¥ï¼Ÿ</p>
                        <div style="background:#fff3e0; padding:10px; border-radius:5px; margin-top:10px; border: 1px solid #ffe0b2;">
                            <strong>æ˜“é”™ç‚¹ï¼š</strong><br>
                            å¾ˆå¤šäººç›´æ¥ç®— (3-2)=1ç±³/å¤©ï¼Œç­”æ¡ˆ10å¤©ã€‚<br>
                            <span style="color:red; font-weight:bold;">é”™ï¼</span> å› ä¸ºæœ€åä¸€å¤©çˆ¬å‡ºå»å°±ä¸æ»‘äº†ã€‚
                        </div>
                    </div>
                    <div class="col">
                        <div class="code-block"><pre><span class="code-keyword">int</span> h = <span class="code-num">0</span>, day = <span class="code-num">0</span>;
<span class="code-keyword">while</span> (<span class="code-keyword">true</span>) {
    day++;
    h += <span class="code-num">3</span>; <span class="code-comment">// ç™½å¤©çˆ¬</span>
    <span class="code-keyword">if</span> (h >= <span class="code-num">10</span>) <span class="code-keyword">break</span>; <span class="code-comment">// åˆ°äº†å—ï¼Ÿ</span>
    h -= <span class="code-num">2</span>; <span class="code-comment">// æ™šä¸Šæ»‘</span>
}
cout << day;</pre></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 4: äº’åŠ¨æ¼”ç¤ºï¼šèœ—ç‰›çˆ¬äº• -->
        <section class="slide" id="slide-4">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ¬</span> äº’åŠ¨ï¼šæ¨¡æ‹Ÿçˆ¬äº•è¿‡ç¨‹</h2>
            </div>
            <div class="slide-content">
                <div style="display:flex; gap:40px; align-items:flex-start;">
                    <!-- å·¦ä¾§åŠ¨ç”» -->
                    <div style="flex:1;">
                        <div class="well-container">
                            <div class="snail" id="snail">ğŸŒ</div>
                            <div class="ruler">
                                <span>10m</span><span>5m</span><span>0m</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å³ä¾§æ§åˆ¶ -->
                    <div style="flex:2;">
                        <button onclick="nextStep()" style="padding:10px 20px; background:#2196F3; color:#fff; border:none; border-radius:5px; cursor:pointer; font-size:1.2em;">â–¶ ä¸‹ä¸€æ­¥ (Next)</button>
                        
                        <div class="status-panel">
                            <div>Day: <span id="val-day">0</span></div>
                            <div>Height: <span id="val-h">0</span>m</div>
                        </div>
                        
                        <div id="log-box" style="margin-top:15px; height:40px; color:#666; font-size:0.9em;">ç­‰å¾…å¼€å§‹...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 5: æ˜“é”™ç‚¹æé†’ -->
        <section class="slide" id="slide-5">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">âš ï¸</span> é¿å‘æŒ‡å—</h2>
            </div>
            <div class="slide-content">
                <div class="container">
                    <div class="col">
                        <div style="background:#ffebee; padding:15px; border-radius:8px; border-left:5px solid #d32f2f;">
                            <h3>1. é¡ºåºé”™è¯¯</h3>
                            <p style="font-size:0.8em;">
                                âŒ å…ˆæ»‘å†çˆ¬ï¼Ÿ<br>
                                âœ… å¿…é¡»ä¸¥æ ¼æŒ‰ç…§é¢˜ç›®ï¼šå…ˆçˆ¬ï¼Œåˆ¤æ–­æ˜¯å¦åˆ°è¾¾ï¼Œå†æ»‘ã€‚
                            </p>
                        </div>
                    </div>
                    <div class="col">
                        <div style="background:#fff3e0; padding:15px; border-radius:8px; border-left:5px solid #FF9800;">
                            <h3>2. è¾¹ç•Œé—æ¼</h3>
                            <p style="font-size:0.8em;">
                                âŒ <code>while(h < 10)</code><br>
                                âœ… æœ€å¥½åœ¨å¾ªç¯å†…éƒ¨ç”¨ <code>if(h >= 10) break;</code>ï¼Œè¿™æ ·é€»è¾‘æ›´æ¸…æ™°ã€‚
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 6: æ€»ç»“ -->
        <section class="slide" id="slide-6">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">âœ…</span> æœ¬ç« å°ç»“</h2>
            </div>
            <div class="slide-content">
                <ul>
                    <li>ğŸ“ <strong>åˆ†æ</strong>ï¼šæŠŠé¢˜ç›®ç¿»è¯‘æˆæ­¥éª¤ã€‚</li>
                    <li>ğŸ—ï¸ <strong>å»ºæ¨¡</strong>ï¼š<code>h</code> ä»£è¡¨é«˜åº¦ï¼Œ<code>day</code> ä»£è¡¨å¤©æ•°ã€‚</li>
                    <li>ğŸ’» <strong>ç¼–ç </strong>ï¼š<code>while</code> å¾ªç¯ + <code>if</code> åˆ¤æ–­è¾¹ç•Œã€‚</li>
                </ul>
                <div class="conclusion" style="background-color: #e3f2fd; border-color: #2196F3;">
                    <strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong><br>
                    å¦‚æœé¢˜ç›®ä¸åªæ˜¯ç®€å•çš„åŠ å‡ï¼Œè€Œæ˜¯æ¶‰åŠæ›´å¤æ‚çš„æ•°å€¼è®¡ç®—æˆ–å­—ç¬¦å¤„ç†å‘¢ï¼Ÿä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹ <strong>åŸºç¡€æ¨¡æ‹Ÿé¢˜</strong>ï¼
                </div>
            </div>
        </section>

        <!-- å¯¼èˆª -->
        <button id="prevBtn" class="nav-button">â€¹</button>
        <button id="nextBtn" class="nav-button">â€º</button>
        <div id="slideCounter">1 / 6</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideCounter = document.getElementById('slideCounter');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlide = index;
                updateNav();
            }

            function updateNav() {
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
                slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    showSlide(currentSlide - 1);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) {
                    showSlide(currentSlide + 1);
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevBtn.click();
                } else if (e.key === 'ArrowRight') {
                    nextBtn.click();
                }
            });

            showSlide(0);

            // èœ—ç‰›çˆ¬äº•é€»è¾‘
            window.h = 0;
            window.day = 0;
            window.isDay = true; // true=ç™½å¤©çˆ¬, false=æ™šä¸Šæ»‘
            const target = 10;
            const climb = 3;
            const slide = 2;
            
            window.nextStep = function() {
                const snail = document.getElementById('snail');
                const log = document.getElementById('log-box');
                
                if (window.h >= target) {
                    log.innerHTML = "<span style='color:green; font-weight:bold;'>ğŸ‰ æˆåŠŸçˆ¬å‡ºï¼æ¨¡æ‹Ÿç»“æŸã€‚</span>";
                    return;
                }

                if (window.isDay) {
                    // ç™½å¤©
                    window.day++;
                    window.h += climb;
                    log.innerHTML = `â˜€ï¸ ç¬¬ ${window.day} å¤©ç™½å¤©ï¼šçˆ¬ ${climb}m &rarr; é«˜åº¦ ${window.h}m`;
                    if (window.h >= target) {
                        log.innerHTML += " <span style='color:red;'>(åˆ°è¾¾äº•å£!)</span>";
                    }
                } else {
                    // æ™šä¸Š
                    window.h -= slide;
                    log.innerHTML = `ğŸŒ™ ç¬¬ ${window.day} å¤©æ™šä¸Šï¼šæ»‘ ${slide}m &rarr; é«˜åº¦ ${window.h}m`;
                }

                // Update UI
                document.getElementById('val-day').innerText = window.day;
                document.getElementById('val-h').innerText = window.h;
                
                // è§†è§‰é«˜åº¦ (æœ€å¤§300pxå¯¹åº”10m => 1m=30px)
                let visualH = Math.min(window.h * 30, 300); 
                snail.style.bottom = visualH + 'px';

                // åˆ‡æ¢çŠ¶æ€ (å¦‚æœæ²¡çˆ¬å‡ºå»)
                if (window.h < target) {
                    window.isDay = !window.isDay;
                }
            }
        });
    </script>

</body>
</html>
