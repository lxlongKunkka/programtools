<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€ç»´è®­ç»ƒ - Chapter 5: æ•°å­¦ç›´è§‰</title>
    <style>
        /* --- åŸºç¡€å’Œå¸ƒå±€ (ä¿æŒä¸€è‡´) --- */
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #000;
        }

        .ppt-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            padding: 4vh 6vw;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out;
            overflow-y: auto;
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        /* --- å¯¼èˆªæŒ‰é’® --- */
        .nav-button {
            position: absolute;
            bottom: 30px;
            z-index: 10;
            background-color: rgba(156, 39, 176, 0.7); /* ç´«è‰²ç³» */
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: background-color 0.3s, transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .nav-button:hover {
            background-color: #9C27B0;
            transform: scale(1.1);
        }
        #prevBtn { left: 30px; }
        #nextBtn { right: 30px; }
        #prevBtn:disabled, #nextBtn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: scale(1);
        }

        /* --- é¡µé¢è®¡æ•°å™¨ --- */
        #slideCounter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            background-color: rgba(0,0,0,0.4);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 14px;
        }

        /* --- å†…å®¹æ ·å¼ --- */
        h1 { font-size: clamp(2.5em, 5vw, 4em); color: #333; margin: 0; text-align: center; }
        h2 { font-size: clamp(2em, 4vw, 2.8em); color: #9C27B0; border-bottom: 3px solid #f3e5f5; padding-bottom: 15px; margin-top: 0; margin-bottom: 2vh; }
        h3 { font-size: clamp(1.2em, 2.5vw, 1.8em); color: #555; text-align: center; margin-top: 20px; }
        p, li { font-size: clamp(1em, 2vw, 1.2em); line-height: 1.6; color: #444; }
        ul { padding-left: 25px; }
        .center-content { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100%; }
        .icon { font-size: clamp(3em, 6vw, 4.5em); margin-bottom: 20px; }
        .highlight { color: #9C27B0; font-weight: bold; }
        .conclusion { margin-top: 3vh; padding: 15px; background-color: #f3e5f5; border-left: 5px solid #9C27B0; border-radius: 4px; font-style: italic; }
        
        /* æœ¬ç« ç‰¹å®šæ ·å¼ */
        .container { display: flex; width: 100%; gap: 30px; align-items: flex-start; }
        .col { flex: 1; text-align: left; }

        /* æ•°å­¦å¡ç‰‡ */
        .math-card {
            background: #fff; border: 2px solid #eee; border-radius: 12px; padding: 20px;
            margin-bottom: 15px; text-align: center;
        }
        .math-icon { font-size: 2.5em; display: block; margin-bottom: 10px; }

        /* æ•°å­—åè½¬åŠ¨ç”» */
        .reverse-box {
            display: flex; align-items: center; justify-content: center; gap: 20px; margin-top: 30px;
            font-family: monospace; font-size: 2em;
        }
        .num-container {
            border: 2px solid #333; padding: 10px 20px; border-radius: 8px; min-width: 100px; text-align: center;
        }
        .digit-pop {
            color: #E91E63; font-weight: bold; animation: popUp 0.5s;
        }
        @keyframes popUp { 0% { transform: translateY(0); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0); } }

        /* é˜¶ä¹˜å› å­åŠ¨ç”» */
        .factor-grid {
            display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 20px;
        }
        .factor-box {
            width: 60px; height: 60px; border: 2px solid #ccc; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-weight: bold;
            position: relative;
        }
        .factor-box.five { background: #E1BEE7; border-color: #9C27B0; color: #4A148C; }
        .factor-box.two { background: #E0F7FA; border-color: #00BCD4; color: #006064; }
        .pair-line {
            position: absolute; height: 2px; background: #333; z-index: 1; transform-origin: left center;
        }
    </style>
</head>
<body>

    <div class="ppt-container">
        <!-- Slide 1: å°é¢ -->
        <section class="slide active" id="slide-1">
            <div class="center-content">
                <div class="icon">ğŸ§®</div>
                <h1>Chapter 5: æ•°å­¦ç›´è§‰ä¸æ•°è®º</h1>
                <h3>â€”â€” ä»£ç èƒŒåçš„æ•°å­¦é­”æ³•</h3>
            </div>
        </section>

        <!-- Slide 2: ä¸ºä»€ä¹ˆè¦å­¦æ•°å­¦ï¼Ÿ -->
        <section class="slide" id="slide-2">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ¤”</span> ä¸ºä»€ä¹ˆè¦å­¦æ•°å­¦ï¼Ÿ</h2>
            </div>
            <div class="slide-content">
                <p>å¾ˆå¤šæ—¶å€™ï¼Œå¤æ‚çš„å¾ªç¯å¯ä»¥ç”¨ä¸€ä¸ªå…¬å¼è§£å†³ã€‚</p>
                <div class="container" style="margin-top: 30px;">
                    <div class="col math-card">
                        <span class="math-icon">ğŸ”¢</span>
                        <h3>ä½å€¼åŸç†</h3>
                        <p>å¤„ç†æ•´æ•°æ‹†åˆ†ã€åè½¬ã€‚</p>
                        <p style="font-size: 0.8em; color: #666;">123 = 1Ã—100 + 2Ã—10 + 3</p>
                    </div>
                    <div class="col math-card">
                        <span class="math-icon">â—</span>
                        <h3>æ•´é™¤ä¸ä½™æ•°</h3>
                        <p>å¤„ç†å‘¨æœŸã€å› å­ã€‚</p>
                        <p style="font-size: 0.8em; color: #666;">n % k == 0</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: æ¡ˆä¾‹1 - æ•°å­—åè½¬ -->
        <section class="slide" id="slide-3">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ”„</span> æ¡ˆä¾‹1ï¼šæ•°å­—åè½¬</h2>
            </div>
            <div class="slide-content">
                <p><strong>é¢˜ç›®ï¼š</strong> è¾“å…¥æ•´æ•° 123ï¼Œè¾“å‡º 321ã€‚</p>
                <p><strong>ç¬¨åŠæ³•ï¼š</strong> è½¬æˆå­—ç¬¦ä¸² "123" â†’ åè½¬ "321" â†’ è½¬å›æ•´æ•°ã€‚</p>
                <p><strong>æ•°å­¦æ³•ï¼š</strong> åˆ©ç”¨å–æ¨¡ (%) å’Œ æ•´é™¤ (/)ã€‚</p>
                <div class="conclusion">
                    <code>ans = ans * 10 + (x % 10)</code><br>
                    <code>x = x / 10</code>
                </div>
            </div>
        </section>

        <!-- Slide 4: äº’åŠ¨ï¼šåè½¬æ¼”ç¤º -->
        <section class="slide" id="slide-4">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ¬</span> äº’åŠ¨ï¼šæ•°å­¦åè½¬</h2>
            </div>
            <div class="slide-content">
                <button id="btn-rev" style="padding:10px 30px; background:#9C27B0; color:#fff; border:none; border-radius:5px; cursor:pointer; font-size:1.2em; display:block; margin: 0 auto;">â–¶ æå–ä¸€ä½</button>
                
                <div class="reverse-box">
                    <div>
                        <div style="font-size:0.6em; color:#666;">x (å‰©ä½™)</div>
                        <div class="num-container" id="x-val">123</div>
                    </div>
                    <div style="font-size: 1.5em;">â†’</div>
                    <div>
                        <div style="font-size:0.6em; color:#666;">ans (ç»“æœ)</div>
                        <div class="num-container" id="ans-val">0</div>
                    </div>
                </div>
                <div id="rev-log" style="text-align: center; margin-top: 20px; color: #666;">ç‚¹å‡»æŒ‰é’®å¼€å§‹...</div>
            </div>
        </section>

        <!-- Slide 5: æ¡ˆä¾‹2 - é˜¶ä¹˜æœ«å°¾0 -->
        <section class="slide" id="slide-5">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">0ï¸âƒ£</span> æ¡ˆä¾‹2ï¼šé˜¶ä¹˜æœ«å°¾çš„0</h2>
            </div>
            <div class="slide-content">
                <p><strong>é¢˜ç›®ï¼š</strong> æ±‚ <i>N</i>! (1Ã—2Ã—...Ã—N) æœ«å°¾æœ‰å¤šå°‘ä¸ª 0ï¼Ÿ</p>
                <p><strong>ç›´è§‰ï¼š</strong> ç®—å‡ºç»“æœæ•° 0ï¼Ÿ(N=100æ—¶ç»“æœä¼šæº¢å‡ºï¼)</p>
                <p><strong>æ•°å­¦ç›´è§‰ï¼š</strong></p>
                <ul>
                    <li>0 æ˜¯ç”± 2 Ã— 5 äº§ç”Ÿçš„ã€‚</li>
                    <li>å› å­ 2 çš„æ•°é‡è¿œå¤šäº 5ã€‚</li>
                    <li>æ‰€ä»¥ï¼Œ<strong>æ•° 0 çš„ä¸ªæ•° = æ•°å› å­ 5 çš„ä¸ªæ•°</strong>ã€‚</li>
                </ul>
            </div>
        </section>

        <!-- Slide 6: äº’åŠ¨ï¼šå¯»æ‰¾å› å­5 -->
        <section class="slide" id="slide-6">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ”</span> äº’åŠ¨ï¼šé…å¯¹æ¸¸æˆ</h2>
            </div>
            <div class="slide-content">
                <p>è®¡ç®— 10! æœ«å°¾æœ‰å‡ ä¸ª 0ï¼Ÿ(1~10)</p>
                <button id="btn-count" style="padding:10px 30px; background:#9C27B0; color:#fff; border:none; border-radius:5px; cursor:pointer; font-size:1.2em; display:block; margin: 0 auto;">â–¶ æ‰¾å‡ºå› å­ 5</button>
                
                <div class="factor-grid" id="factor-grid">
                    <!-- JS ç”Ÿæˆ 1-10 -->
                </div>
                <div id="count-log" style="text-align: center; margin-top: 20px; font-weight: bold; color: #9C27B0;"></div>
            </div>
        </section>

        <!-- Slide 7: æ€»ç»“ -->
        <section class="slide" id="slide-7">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">âœ…</span> æœ¬ç« å°ç»“</h2>
            </div>
            <div class="slide-content">
                <div class="container">
                    <div class="col" style="background:#fff; border:1px solid #ddd; padding:20px; border-radius:8px;">
                        <h3>ä½å€¼åŸç†</h3>
                        <p>ä¸è½¬å­—ç¬¦ä¸²ï¼Œç›´æ¥æ“ä½œæ•´æ•°ã€‚</p>
                        <p>æ•ˆç‡æ›´é«˜ã€‚</p>
                    </div>
                    <div class="col" style="background:#fff; border:1px solid #ddd; padding:20px; border-radius:8px;">
                        <h3>è´¨å› æ•°åˆ†è§£</h3>
                        <p>é€è¿‡ç°è±¡çœ‹æœ¬è´¨ã€‚</p>
                        <p>æœ«å°¾0 = å› å­5çš„ä¸ªæ•°ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- å¯¼èˆª -->
        <button id="prevBtn" class="nav-button">â€¹</button>
        <button id="nextBtn" class="nav-button">â€º</button>
        <div id="slideCounter">1 / 7</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- PPTç¿»é¡µé€»è¾‘ ---
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideCounter = document.getElementById('slideCounter');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlide = index;
                updateNav();
            }

            function updateNav() {
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
                slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
            }

            prevBtn.addEventListener('click', () => { if (currentSlide > 0) showSlide(currentSlide - 1); });
            nextBtn.addEventListener('click', () => { if (currentSlide < totalSlides - 1) showSlide(currentSlide + 1); });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prevBtn.click();
                else if (e.key === 'ArrowRight') nextBtn.click();
            });

            showSlide(0);

            // --- æ•°å­—åè½¬é€»è¾‘ ---
            const btnRev = document.getElementById('btn-rev');
            const xVal = document.getElementById('x-val');
            const ansVal = document.getElementById('ans-val');
            const revLog = document.getElementById('rev-log');
            let x = 123;
            let ans = 0;

            btnRev.addEventListener('click', function() {
                if (x === 0) {
                    // Reset
                    x = 123; ans = 0;
                    xVal.innerText = x; ansVal.innerText = ans;
                    revLog.innerText = "é‡ç½®... å†è¯•ä¸€æ¬¡";
                    btnRev.innerText = "â–¶ æå–ä¸€ä½";
                    return;
                }

                let digit = x % 10;
                ans = ans * 10 + digit;
                x = Math.floor(x / 10);

                // Update UI
                xVal.innerText = x;
                ansVal.innerHTML = `<span class="digit-pop">${ans}</span>`;
                revLog.innerText = `æå– ${digit}ï¼Œans = ans*10 + ${digit}`;

                if (x === 0) {
                    btnRev.innerText = "â†º é‡ç½®";
                    revLog.innerHTML += " <br><span style='color:#9C27B0'>åè½¬å®Œæˆï¼</span>";
                }
            });

            // --- é˜¶ä¹˜å› å­é€»è¾‘ ---
            const btnCount = document.getElementById('btn-count');
            const grid = document.getElementById('factor-grid');
            const countLog = document.getElementById('count-log');
            
            // Init grid
            for(let i=1; i<=10; i++) {
                let div = document.createElement('div');
                div.className = 'factor-box';
                div.innerText = i;
                div.id = 'f'+i;
                grid.appendChild(div);
            }

            btnCount.addEventListener('click', function() {
                // Highlight 5 and 10
                const f5 = document.getElementById('f5');
                const f10 = document.getElementById('f10');
                
                f5.classList.add('five');
                f10.classList.add('five');
                
                countLog.innerHTML = "æ‰¾åˆ° 5 å’Œ 10 (åŒ…å«å› å­5)<br>å…± 2 ä¸ªå› å­ 5 â†’ æœ«å°¾æœ‰ 2 ä¸ª 0";
                btnCount.disabled = true;
                btnCount.style.opacity = 0.5;
            });
        });
    </script>

</body>
</html>
