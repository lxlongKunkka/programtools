<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§£é¢˜è¯¾ä»¶ï¼šæœ€å¤šèƒ½å‚åŠ æ¯”èµ›æ•°</title>
    <style>
        /* --- åŸºç¡€å’Œå¸ƒå±€ (ä¸è¯¾ç¨‹PPTä¿æŒä¸€è‡´) --- */
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #000;
        }

        .ppt-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            padding: 4vh 6vw;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease-in-out;
            overflow-y: auto;
        }

        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        /* --- å¯¼èˆªæŒ‰é’® (ä¸è¯¾ç¨‹PPTä¿æŒä¸€è‡´) --- */
        .nav-button {
            position: absolute;
            bottom: 30px;
            z-index: 10;
            background-color: rgba(0, 122, 255, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: background-color 0.3s, transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .nav-button:hover {
            background-color: #007aff;
            transform: scale(1.1);
        }
        #prevBtn { left: 30px; }
        #nextBtn { right: 30px; }
        #prevBtn:disabled, #nextBtn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: scale(1);
        }

        /* --- é¡µé¢è®¡æ•°å™¨ (ä¸è¯¾ç¨‹PPTä¿æŒä¸€è‡´) --- */
        #slideCounter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            background-color: rgba(0,0,0,0.4);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 14px;
        }

        /* --- å¹»ç¯ç‰‡å†…å®¹æ ·å¼ (ä¸è¯¾ç¨‹PPTä¿æŒä¸€è‡´) --- */
        .slide-header { flex-shrink: 0; }
        .slide-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 { font-size: clamp(2.5em, 5vw, 4em); color: #333; margin: 0; text-align: center; }
        h2 { font-size: clamp(2em, 4vw, 2.8em); color: #007aff; border-bottom: 3px solid #f0f2f5; padding-bottom: 15px; margin-top: 0; margin-bottom: 2vh; }
        p, li { font-size: clamp(1em, 2vw, 1.2em); line-height: 1.6; color: #444; }
        ul { padding-left: 25px; }
        .center-content { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100%; }
        .icon { font-size: clamp(3em, 6vw, 4.5em); margin-bottom: 20px; }
        .highlight { color: #e63946; font-weight: bold; }
        .conclusion { margin-top: 3vh; padding: 15px; background-color: #e6f7ff; border-left: 5px solid #1890ff; border-radius: 4px; font-style: italic; }
        
        /* æœ¬è¯¾ä»¶ç‰¹å®šæ ·å¼ */
        .problem-box {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        /* --- ä»£ç å—æ ·å¼ä¿®æ”¹ï¼šç™½è‰²èƒŒæ™¯ --- */
        .code-block {
            background-color: #ffffff; /* ç™½è‰²èƒŒæ™¯ */
            color: #333333; /* æ·±è‰²æ–‡å­— */
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd; /* æ·»åŠ è¾¹æ¡†ä»¥åŒºåˆ† */
            font-family: "Courier New", Courier, monospace;
            white-space: pre-wrap;
            margin-top: 2vh;
            font-size: clamp(0.8em, 1.6vw, 1em);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .code-block .comment { color: #008000; font-style: italic; } /* ç»¿è‰²æ³¨é‡Š */
        .code-block .keyword { color: #0000ff; font-weight: bold; } /* è“è‰²å…³é”®å­— */
        .code-block .type { color: #2b91af; } /* é’è‰²ç±»å‹ */
        .code-block .number { color: #a31515; } /* çº¢è‰²æ•°å­— */
        .code-block .string { color: #a31515; } /* çº¢è‰²å­—ç¬¦ä¸² */
        .code-block .preprocessor { color: #808080; } /* ç°è‰²é¢„å¤„ç† */

        /* åŠ¨ç”»æ¼”ç¤ºåŒºåŸŸ */
        .animation-area {
            height: 400px; /* å¢åŠ é«˜åº¦ä»¥å®¹çº³æ›´å¤šäº‹ä»¶ */
            position: relative;
            border: 2px dashed #ccc;
            margin-top: 2vh;
            padding: 10px;
            overflow-x: auto; /* å…è®¸æ¨ªå‘æ»šåŠ¨å¦‚æœéœ€è¦ */
        }
        .timeline {
            width: 100%;
            height: 2px;
            background-color: #333;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }
        .timeline-marker {
            position: absolute;
            top: 52%;
            font-size: 0.8em;
            color: #666;
            transform: translateX(-50%);
        }
        .event {
            position: absolute;
            height: 30px; /* ç¨å¾®å‡å°é«˜åº¦ */
            border-radius: 6px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.5s ease-in-out;
            opacity: 0.6;
            cursor: pointer;
        }
        .event:hover {
            z-index: 10;
            transform: scale(1.05);
        }
        .event.selected {
            opacity: 1;
            transform: scale(1.1);
            border: 3px solid #ffd700;
            z-index: 5;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .event.conflicted {
            opacity: 0.2;
            filter: grayscale(100%);
            z-index: 1;
        }
        .status-text {
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            margin-top: 1vh;
            height: 30px;
        }
        /* è¾…åŠ©çº¿ï¼Œè¡¨ç¤ºå½“å‰ç»“æŸæ—¶é—´ */
        .current-time-line {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #ffd700;
            z-index: 2;
            display: none;
            transition: left 0.5s ease-in-out;
        }
        .current-time-label {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ffd700;
            color: #333;
            padding: 2px 5px;
            border-radius: 4px;
            font-size: 0.8em;
            white-space: nowrap;
        }
    </style>
</head>
<body>

    <div class="ppt-container">
        <!-- Slide 1: å°é¢é¡µ -->
        <div class="slide active" id="slide-1">
            <div class="center-content">
                <div class="icon">ğŸ†</div>
                <h1>è§£é¢˜è¯¾ä»¶ï¼šæœ€å¤šèƒ½å‚åŠ æ¯”èµ›æ•°</h1>
                <h3>â€”â€” è´ªå¿ƒç®—æ³•ç»å…¸åº”ç”¨ï¼šåŒºé—´è°ƒåº¦</h3>
            </div>
        </div>

        <!-- Slide 2: é¢˜ç›®æè¿° -->
        <div class="slide" id="slide-2">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ“</span> é¢˜ç›®è§£æ</h2>
            </div>
            <div class="slide-content" style="justify-content: flex-start;">
                <div class="problem-box">
                    <p><strong>é¢˜ç›®æ ¸å¿ƒï¼š</strong></p>
                    <p>ç»™å®š n ä¸ªå¸¦æœ‰å¼€å§‹å’Œç»“æŸæ—¶é—´çš„åŒºé—´ï¼Œä½ éœ€è¦ä»ä¸­é€‰å‡ºä¸€äº›åŒºé—´ï¼Œä½¿å¾—è¿™äº›é€‰å‡ºçš„åŒºé—´<strong>äº’ä¸é‡å </strong>ï¼Œå¹¶ä¸”æ•°é‡å°½å¯èƒ½å¤šã€‚</p>
                    <p><strong>çº¦æŸæ¡ä»¶ï¼š</strong></p>
                    <ul>
                        <li>å¿…é¡»å®Œæ•´å‚åŠ æ¯”èµ›ï¼Œä¸èƒ½ä¸­é€”åŠ å…¥æˆ–é€€å‡ºã€‚</li>
                        <li>åŒä¸€æ—¶é—´åªèƒ½å‚åŠ ä¸€åœºæ¯”èµ›ã€‚`[0, 2]` å’Œ `[2, 4]` è¿™ç§ç«¯ç‚¹é‡åˆçš„æƒ…å†µæ˜¯<strong>å…è®¸</strong>çš„ã€‚</li>
                    </ul>
                </div>
                <div class="conclusion">
                    <strong>ä¸€å¥è¯ç›®æ ‡ï¼š</strong>åœ¨æ—¶é—´è½´ä¸Šï¼Œæ‰¾å‡ºä¸€ç»„ä¸é‡å çš„åŒºé—´ï¼Œä½¿å…¶æ•°é‡æœ€å¤šã€‚
                </div>
            </div>
        </div>

        <!-- Slide 3: æ€è·¯æ¢è®¨ -->
        <div class="slide" id="slide-3">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ¤”</span> æ€è·¯æ¢è®¨ï¼šå¦‚ä½•â€œè´ªå¿ƒâ€ï¼Ÿ</h2>
            </div>
            <div class="slide-content" style="justify-content: flex-start;">
                <p>æˆ‘ä»¬å¯èƒ½ä¼šæœ‰ä¸€äº›ç›´è§‰ä¸Šçš„è´ªå¿ƒç­–ç•¥ï¼š</p>
                <ul>
                    <li>
                        <strong>ç­–ç•¥Aï¼šæŒ‰å¼€å§‹æ—¶é—´æœ€æ—©çš„é€‰ï¼Ÿ</strong><br>
                        <span style="color: red;">åä¾‹ï¼š</span>å¦‚æœç¬¬ä¸€ä¸ªå¼€å§‹çš„æ¯”èµ›æŒç»­æ—¶é—´éå¸¸é•¿ï¼ˆå¦‚ `[8:00, 18:00]`ï¼‰ï¼Œå®ƒä¼šâ€œéœ¸å â€ä¸€æ•´å¤©ï¼Œå¯¼è‡´æˆ‘ä»¬é”™è¿‡å¾ˆå¤šçŸ­æ—¶é—´çš„æ¯”èµ›ã€‚
                    </li>
                    <li>
                        <strong>ç­–ç•¥Bï¼šé€‰æŒç»­æ—¶é—´æœ€çŸ­çš„ï¼Ÿ</strong><br>
                        <span style="color: red;">åä¾‹ï¼š</span>ä¸€ä¸ªéå¸¸çŸ­çš„æ¯”èµ›ï¼ˆå¦‚ `[12:00, 12:01]`ï¼‰å¯èƒ½ä¼šä¸ä¸¤ä¸ªè¾ƒé•¿çš„ã€æœ¬å¯ä»¥è¿ç»­å‚åŠ çš„æ¯”èµ›ï¼ˆå¦‚ `[10:00, 12:00]` å’Œ `[12:01, 14:00]`ï¼‰å†²çªã€‚
                    </li>
                    <li>
                        <strong>ç­–ç•¥Cï¼šæŒ‰ç»“æŸæ—¶é—´æœ€æ—©çš„é€‰ï¼Ÿ</strong><br>
                        <span style="color: green; font-weight: bold;">è¿™ä¼¼ä¹å¾ˆé è°±ï¼</span>é€‰æ‹©ä¸€ä¸ªå°½æ—©ç»“æŸçš„æ¯”èµ›ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¸ºåç»­çš„æ¯”èµ›ç•™å‡º<strong>å°½å¯èƒ½å¤š</strong>çš„æ—¶é—´ã€‚è¿™æ­£æ˜¯æ­£ç¡®çš„è´ªå¿ƒç­–ç•¥ï¼
                    </li>
                </ul>
            </div>
        </div>

        <!-- Slide 4: åŠ¨ç”»æ¼”ç¤º -->
        <div class="slide" id="slide-4">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ¬</span> åŠ¨ç”»æ¼”ç¤ºï¼šå¤æ‚çš„è´ªå¿ƒè¿‡ç¨‹</h2>
            </div>
            <div class="slide-content" style="justify-content: flex-start;">
                <p><strong>æ ·ä¾‹æ•°æ®ï¼ˆå·²æŒ‰ç»“æŸæ—¶é—´æ’åºï¼‰ï¼š</strong></p>
                <p style="font-size: 0.8em;">1.[1,4] &nbsp; 2.[3,5] &nbsp; 3.[0,6] &nbsp; 4.[4,7] &nbsp; 5.[3,8] &nbsp; 6.[5,9] &nbsp; 7.[8,11]</p>
                <div class="animation-area">
                    <div class="timeline"></div>
                    <!-- æ—¶é—´åˆ»åº¦ -->
                    <div class="timeline-marker" style="left: 0%;">0</div>
                    <div class="timeline-marker" style="left: 20%;">2.4</div>
                    <div class="timeline-marker" style="left: 40%;">4.8</div>
                    <div class="timeline-marker" style="left: 60%;">7.2</div>
                    <div class="timeline-marker" style="left: 80%;">9.6</div>
                    <div class="timeline-marker" style="left: 100%;">12</div>

                    <!-- è¾…åŠ©çº¿ -->
                    <div class="current-time-line" id="timeLine">
                        <div class="current-time-label">Cur: 0</div>
                    </div>

                    <!-- æ¯”èµ›äº‹ä»¶ (å‡è®¾æ—¶é—´èŒƒå›´ 0-12) -->
                    <!-- 1. [1, 4] -->
                    <div class="event" id="evt1" style="left: 8.33%; width: 25%; background-color: #3498db; top: 10%;">1.[1,4]</div>
                    <!-- 2. [3, 5] -->
                    <div class="event" id="evt2" style="left: 25%; width: 16.66%; background-color: #e74c3c; top: 25%;">2.[3,5]</div>
                    <!-- 3. [0, 6] -->
                    <div class="event" id="evt3" style="left: 0%; width: 50%; background-color: #9b59b6; top: 40%;">3.[0,6]</div>
                    <!-- 4. [4, 7] -->
                    <div class="event" id="evt4" style="left: 33.33%; width: 25%; background-color: #2ecc71; top: 55%;">4.[4,7]</div>
                    <!-- 5. [3, 8] -->
                    <div class="event" id="evt5" style="left: 25%; width: 41.66%; background-color: #f1c40f; top: 70%;">5.[3,8]</div>
                    <!-- 6. [5, 9] -->
                    <div class="event" id="evt6" style="left: 41.66%; width: 33.33%; background-color: #e67e22; top: 85%;">6.[5,9]</div>
                    <!-- 7. [8, 11] -->
                    <div class="event" id="evt7" style="left: 66.66%; width: 25%; background-color: #1abc9c; top: 20%;">7.[8,11]</div>
                </div>
                <div id="status" class="status-text">ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®æŸ¥çœ‹è¿‡ç¨‹</div>
                <button id="startAnimation" style="align-self: center; padding: 10px 20px; font-size: 1em; cursor: pointer;">å¼€å§‹</button>
            </div>
        </div>

        <!-- Slide 5: C++ ä»£ç å®ç° -->
        <div class="slide" id="slide-5">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ’»</span> C++ ä»£ç å®ç°</h2>
            </div>
            <div class="slide-content" style="justify-content: flex-start;">
                <p><strong>æ ¸å¿ƒæ­¥éª¤ï¼š</strong></p>
                <ol>
                    <li>ç”¨ `struct` æˆ– `pair` å­˜å‚¨æ¯åœºæ¯”èµ›çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚</li>
                    <li>ä½¿ç”¨ `std::sort` å¯¹æ‰€æœ‰æ¯”èµ›æŒ‰<strong>ç»“æŸæ—¶é—´</strong>è¿›è¡Œå‡åºæ’åºã€‚</li>
                    <li>éå†æ’åºåçš„æ¯”èµ›ï¼Œç»´æŠ¤ä¸€ä¸ª `cur` å˜é‡ï¼Œè®°å½•ä¸Šä¸€åœºè¢«é€‰ä¸­æ¯”èµ›çš„ç»“æŸæ—¶é—´ã€‚</li>
                    <li>å¦‚æœå½“å‰æ¯”èµ›çš„å¼€å§‹æ—¶é—´ `>= cur`ï¼Œåˆ™é€‰æ‹©è¯¥æ¯”èµ›ï¼Œæ›´æ–° `cur`ï¼Œå¹¶å°†è®¡æ•°å™¨åŠ ä¸€ã€‚</li>
                </ol>
                <div class="code-block">
<pre>
<span class="preprocessor">#include &lt;bits/stdc++.h&gt;</span>

<span class="keyword">using</span> <span class="keyword">namespace</span> std;

<span class="preprocessor">#define endl '\n'</span>

<span class="preprocessor">#define TRACE 1</span>
<span class="preprocessor">#define tcout TRACE && cout</span>

<span class="preprocessor">#define fst ios::sync_with_stdio(false); cin.tie(0); cout.tie(0);</span>

<span class="preprocessor">#define int long long</span>

<span class="comment">// ç¡®å®šçŠ¶æ€</span>
<span class="comment">// åˆ’åˆ†é˜¶æ®µ-æ ¹æ®é˜¶æ®µç¡®å®šæ±‚è§£é¡ºåº</span>
<span class="comment">// å†³ç­–é€‰æ‹©-åŠ¨æ€è½¬ç§»æ–¹ç¨‹</span>
<span class="comment">// è¾¹ç•Œæ¡ä»¶-èµ·ç‚¹è®¾ç½®</span>
<span class="comment">// æ±‚è§£ç›®æ ‡</span>

<span class="keyword">const</span> <span class="type">int</span> P = <span class="number">998244353</span>; 
<span class="keyword">const</span> <span class="type">int</span> Base = <span class="number">3221225477</span>;
<span class="keyword">const</span> <span class="type">int</span> INF = <span class="number">0x3f3f3f3f3f3f3f3f</span>; 

<span class="keyword">const</span> <span class="type">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>, M = <span class="number">2e6</span> + <span class="number">10</span>; 

<span class="keyword">struct</span> <span class="type">Node</span>
{
    <span class="type">int</span> l, r;
};

<span class="type">Node</span> a[N];
<span class="type">int</span> n;

<span class="type">bool</span> <span class="function">cmp</span>(<span class="type">Node</span> x, <span class="type">Node</span> y)
{
    <span class="comment">//å¦‚æœç»“æŸæ—¶é—´ç›¸åŒ, åº”è¯¥æ€ä¹ˆåŠ?</span>
    <span class="keyword">return</span> x.r < y.r;
}

<span class="type">signed</span> <span class="function">main</span>()
{
    cin >> n;
    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i<=n; i++)
    {
        cin >> a[i].l >> a[i].r;
    }
    <span class="function">sort</span>(a+<span class="number">1</span>, a+n+<span class="number">1</span>, cmp);
    <span class="comment">//ç¬¬ä¸€åœºæ¯”èµ›ä¸€å®šæ˜¯å¿…é€‰çš„, </span>
    <span class="type">int</span> ans = <span class="number">1</span>;
    <span class="type">int</span> cur = a[<span class="number">1</span>].r;
    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>; i<=n; i++)
    {
        <span class="comment">//ä»ç¬¬2åœºæ¯”èµ›å¼€å§‹, å¦‚æœè¿™åœºæ¯”èµ›èƒ½å‚åŠ , å°±å‚åŠ , å¦‚æœä¸èƒ½å‚åŠ å°±è·³è¿‡</span>
        <span class="comment">//å¼€å§‹æ—¶é—´æ™šäºä¹‹å‰ç»“æŸæ—¶é—´çš„æ¯”èµ›å°±æ˜¯èƒ½å‚åŠ çš„</span>
        <span class="keyword">if</span>(a[i].l >= cur)
        {
            ans++;
            cur = a[i].r;
        }
    }
    cout << ans;
    <span class="keyword">return</span> <span class="number">0</span>;
}
</pre>
                </div>
            </div>
        </div>

        <!-- Slide 6: çŸ¥è¯†ç‚¹æ€»ç»“ -->
        <div class="slide" id="slide-6">
            <div class="slide-header">
                <h2><span style="font-size: 1.5em; vertical-align: middle;">ğŸ§ </span> çŸ¥è¯†ç‚¹æ€»ç»“</h2>
            </div>
            <div class="slide-content">
                <div class="problem-box">
                    <h4>ç®—æ³•æ¨¡å‹ï¼šåŒºé—´è°ƒåº¦é—®é¢˜ (Activity Selection Problem)</h4>
                    <p>è¿™é“é¢˜æ˜¯â€œåŒºé—´è°ƒåº¦é—®é¢˜â€çš„å…¸å‹æ¨¡æ¿ã€‚è¿™ç±»é—®é¢˜çš„å…±åŒç‰¹å¾æ˜¯ï¼š</p>
                    <ul>
                        <li>ç»™å®šä¸€ç»„å¸¦èµ·æ­¢æ—¶é—´çš„äº‹ä»¶/åŒºé—´ã€‚</li>
                        <li>ç›®æ ‡æ˜¯é€‰æ‹©æœ€å¤šçš„äº’ä¸å†²çªçš„äº‹ä»¶/åŒºé—´ã€‚</li>
                    </ul>
                </div>
                <div class="conclusion">
                    <strong>æ ¸å¿ƒè§£æ³•ï¼š</strong>è®°ä½è¿™ä¸ªè´ªå¿ƒç­–ç•¥â€”â€”<strong>æŒ‰ç»“æŸæ—¶é—´å‡åºæ’åºï¼Œç„¶åä¾æ¬¡é€‰æ‹©ä¸å†²çªçš„åŒºé—´</strong>ã€‚è¿™æ˜¯è§£å†³æ­¤ç±»é—®é¢˜çš„â€œä¸‡èƒ½é’¥åŒ™â€ã€‚
                </div>
            </div>
        </div>

        <!-- å¯¼èˆª -->
        <button id="prevBtn" class="nav-button">â€¹</button>
        <button id="nextBtn" class="nav-button">â€º</button>
        <div id="slideCounter">1 / 6</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- PPTç¿»é¡µé€»è¾‘ ---
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const slideCounter = document.getElementById('slideCounter');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlide = index;
                updateNav();
            }

            function updateNav() {
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
                slideCounter.textContent = `${currentSlide + 1} / ${totalSlides}`;
            }

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    showSlide(currentSlide - 1);
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentSlide < totalSlides - 1) {
                    showSlide(currentSlide + 1);
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevBtn.click();
                } else if (e.key === 'ArrowRight') {
                    nextBtn.click();
                }
            });

            showSlide(0);

            // --- åŠ¨ç”»é€»è¾‘ ---
            const startBtn = document.getElementById('startAnimation');
            const statusText = document.getElementById('status');
            const timeLine = document.getElementById('timeLine');
            const timeLabel = timeLine.querySelector('.current-time-label');
            
            // æ¯”èµ›æ•°æ®ï¼š[start, end, id]
            // 1.[1,4], 2.[3,5], 3.[0,6], 4.[4,7], 5.[3,8], 6.[5,9], 7.[8,11]
            const eventsData = [
                {s: 1, e: 4, id: 'evt1'},
                {s: 3, e: 5, id: 'evt2'},
                {s: 0, e: 6, id: 'evt3'},
                {s: 4, e: 7, id: 'evt4'},
                {s: 3, e: 8, id: 'evt5'},
                {s: 5, e: 9, id: 'evt6'},
                {s: 8, e: 11, id: 'evt7'}
            ];

            function resetAnimation() {
                eventsData.forEach(ev => {
                    const el = document.getElementById(ev.id);
                    el.classList.remove('selected', 'conflicted');
                });
                timeLine.style.display = 'none';
                timeLine.style.left = '0%';
                statusText.textContent = 'ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®æŸ¥çœ‹è¿‡ç¨‹';
                startBtn.disabled = false;
            }

            function updateTimeLine(time) {
                timeLine.style.display = 'block';
                // å‡è®¾æ€»æ—¶é—´è½´é•¿åº¦ä¸º 12
                const percent = (time / 12) * 100;
                timeLine.style.left = percent + '%';
                timeLabel.textContent = 'Cur: ' + time;
            }

            startBtn.addEventListener('click', async () => {
                startBtn.disabled = true;
                resetAnimation();
                
                let lastEndTime = 0;
                updateTimeLine(0);

                // è¾…åŠ©å‡½æ•°ï¼šå»¶è¿Ÿ
                const delay = (ms) => new Promise(res => setTimeout(res, ms));

                for (let i = 0; i < eventsData.length; i++) {
                    const ev = eventsData[i];
                    const el = document.getElementById(ev.id);
                    
                    statusText.textContent = `æ£€æŸ¥ç¬¬ ${i+1} ä¸ªæ¯”èµ› [${ev.s}, ${ev.e}]...`;
                    await delay(1000);

                    if (ev.s >= lastEndTime) {
                        // é€‰æ‹©
                        el.classList.add('selected');
                        statusText.textContent = `å¼€å§‹æ—¶é—´ ${ev.s} >= å½“å‰ç»“æŸæ—¶é—´ ${lastEndTime}ï¼Œé€‰æ‹©ï¼`;
                        lastEndTime = ev.e;
                        updateTimeLine(lastEndTime);
                    } else {
                        // å†²çª
                        el.classList.add('conflicted');
                        statusText.textContent = `å¼€å§‹æ—¶é—´ ${ev.s} < å½“å‰ç»“æŸæ—¶é—´ ${lastEndTime}ï¼Œå†²çªï¼Œè·³è¿‡ã€‚`;
                    }
                    await delay(1500);
                }

                statusText.textContent = 'ç»“æŸã€‚æ‰€æœ‰æ¯”èµ›æ£€æŸ¥å®Œæ¯•ã€‚';
                startBtn.disabled = false;
            });
        });
    </script>

</body>
</html>
