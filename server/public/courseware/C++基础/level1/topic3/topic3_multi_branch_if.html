<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多分支结构 - Lesson 6 多分支if语句</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/league.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai.min.css">
    <style>
        /* 基础样式统一 */
        .reveal h1, .reveal h2, .reveal h3 { text-transform: none; }
        .reveal p, .reveal li { font-size: 30px; line-height: 1.6; }
        
        /* 代码块样式 */
        .code-box {
            background: #272822;
            border-radius: 8px;
            padding: 20px;
            text-align: left;
            margin: 20px auto;
            width: 80%;
        }
        
        /* 高亮提示 */
        .highlight { color: #e74c3c; font-weight: bold; }
        .warning-box {
            background: #f39c12;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px auto;
            width: 85%;
            font-size: 26px;
            text-align: center;
        }
        
        /* 交互式练习框 */
        .interactive-box {
            background: #2c3e50;
            padding: 25px;
            border-radius: 8px;
            margin: 20px auto;
            width: 80%;
            text-align: center;
        }
        .interactive-input {
            font-size: 24px;
            padding: 10px;
            margin: 0 10px 15px 10px;
            width: 150px;
            border: none;
            border-radius: 5px;
        }
        .interactive-btn {
            font-size: 24px;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .result-text {
            margin-top: 20px;
            font-size: 28px;
            color: #2ecc71;
        }
        
        /* 小测验防溢出核心样式 */
        .reveal .quiz-section {
            width: 95%;
            margin: 0 auto;
            padding: 0 10px;
        }
        .reveal .quiz-section h3 {
            margin-bottom: 15px !important;
            font-size: 36px !important;
        }
        .reveal .quiz-question {
            font-size: 22px !important;
            margin: 8px 0 !important;
            line-height: 1.4 !important;
        }
        .reveal .quiz-code-box {
            font-size: 0.7em !important;
            padding: 15px !important;
            margin: 8px auto !important;
            width: 95% !important;
            max-height: 180px !important;
        }
        .reveal .quiz-options {
            text-align: left !important;
            width: 85% !important;
            margin: 5px auto !important;
            font-size: 0.8em !important;
            line-height: 1.6 !important;
        }
        .reveal .quiz-options input {
            transform: scale(1.1) !important;
            margin-right: 8px !important;
        }
        .reveal .quiz-options label {
            font-size: 20px !important;
        }
        
        /* 全局布局修复（解决底部溢出） */
        .reveal .slides section {
            min-height: auto !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: flex-start !important;
            max-height: 85vh !important;
            overflow-y: auto !important;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- 第1页：标题页 -->
            <section>
                <h2>Topic 2: 多分支结构</h2>
                <h3>Lesson 6: 多分支if语句（if...else if...else）</h3>
            </section>

            <!-- 第2页：多分支if基本语法 -->
            <section>
                <h3>多分支if语句的核心结构</h3>
                <p class="fragment">✅ 多选一逻辑：按顺序判断条件，满足即执行对应代码块</p>
                <div class="code-box fragment">
                    <pre><code class="cpp">// 标准语法格式
if (条件1) {
    // 条件1成立 → 执行此代码块（后续条件不再判断）
    语句块1;
} else if (条件2) {
    // 条件1不成立、条件2成立 → 执行此代码块
    语句块2;
} else if (条件3) {
    // 条件1/2不成立、条件3成立 → 执行此代码块
    语句块3;
} else {
    // 所有条件都不成立 → 执行默认代码块
    语句块4;
}</code></pre>
                </div>
            </section>

            <!-- 第3页：条件顺序的重要性（核心重点） -->
            <section>
                <h3>⚠️ 关键：条件顺序决定执行结果</h3>
                <div class="warning-box">
                    范围大的条件不能写在前面（会覆盖小范围条件）
                </div>
                <div style="display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; justify-content: center;">
                    <div class="code-box" style="width: 45%;">
                        <h4 style="color: #e74c3c; margin: 0 0 10px 0; font-size: 24px;">错误示例</h4>
                        <pre><code class="cpp">int score = 95;
// 大范围条件在前 → 覆盖小范围
if (score >= 60) {
    cout << "及格"; // 错误执行此分支
} else if (score >= 90) {
    cout << "优秀"; // 永远不会执行
}</code></pre>
                    </div>
                    <div class="code-box" style="width: 45%;">
                        <h4 style="color: #2ecc71; margin: 0 0 10px 0; font-size: 24px;">正确示例</h4>
                        <pre><code class="cpp">int score = 95;
// 小范围条件在前 → 正确匹配
if (score >= 90) {
    cout << "优秀"; // 正确执行此分支
} else if (score >= 60) {
    cout << "及格";
} else {
    cout << "不及格";
}</code></pre>
                    </div>
                </div>
            </section>

            <!-- 第4页：示例1 - 成绩等级评定 -->
            <section>
                <h3>实战示例1：成绩等级评定（优/良/中/差）</h3>
                <div class="code-box">
                    <pre><code class="cpp">#include &lt;iostream&gt;
using namespace std;

int main() {
    int score = 85;
    string level;

    // 按「从高到低」顺序判断（小范围→大范围）
    if (score >= 90) {
        level = "优";
    } else if (score >= 80) {
        level = "良";
    } else if (score >= 70) {
        level = "中";
    } else if (score >= 60) {
        level = "及格";
    } else {
        level = "差";
    }

    cout << "成绩：" << score << " → 等级：" << level << endl; // 输出「良」
    return 0;
}</code></pre>
                </div>
            </section>

            <!-- 第5页：示例2 - 分段函数计算 -->
            <section>
                <h3>实战示例2：分段函数计算</h3>
                <p style="margin-bottom: 10px;">计算规则：f(x) = { x+5 (x>10) | x×2 (0≤x≤10) | x-3 (x<0) }</p>
                <div class="code-box">
                    <pre><code class="cpp">#include &lt;iostream&gt;
using namespace std;

int main() {
    int x = 7;
    int result;

    // 按「区间不重叠」顺序判断
    if (x > 10) {
        result = x + 5;
    } else if (x >= 0) { // 隐含 x≤10
        result = x * 2;
    } else { // 隐含 x<0
        result = x - 3;
    }

    cout << "f(" << x << ") = " << result << endl; // 输出14
    return 0;
}</code></pre>
                </div>
            </section>

            <!-- 第6页：交互式练习1 - 成绩等级评定 -->
            <section>
                <h3>交互式练习：成绩等级评定</h3>
                <div class="interactive-box">
                    <input type="number" class="interactive-input" id="scoreInput" placeholder="输入成绩(0-100)">
                    <button class="interactive-btn" onclick="judgeScoreLevel()">评定等级</button>
                    <div class="result-text" id="scoreResult"></div>
                </div>
            </section>

            <!-- 第7页：交互式练习2 - 分段函数计算 -->
            <section>
                <h3>交互式练习：分段函数计算</h3>
                <div class="interactive-box">
                    <p style="color:white; font-size:24px; margin-bottom:10px;">f(x) = { x+5 (x>10) | x×2 (0≤x≤10) | x-3 (x<0) }</p>
                    <input type="number" class="interactive-input" id="funcXInput" placeholder="输入x的数值">
                    <button class="interactive-btn" onclick="calcPiecewiseFunc()">计算结果</button>
                    <div class="result-text" id="funcResult"></div>
                </div>
            </section>

            <!-- 第8页：小测验（防溢出设计） -->
            <section class="quiz-section">
                <h3>小测验</h3>
                <!-- 问题1 -->
                <div style="margin-bottom: 15px; flex-shrink: 1;">
                    <p class="quiz-question">1. 多分支if语句中，最多执行几个代码块？</p>
                    <div class="quiz-options">
                        <input type="radio" name="q1" id="q1a"> 
                        <label for="q1a">A. 所有满足条件的代码块</label><br>
                        <input type="radio" name="q1" id="q1b"> 
                        <label for="q1b">B. 第一个满足条件的代码块</label><br>
                        <input type="radio" name="q1" id="q1c"> 
                        <label for="q1c">C. 最后一个满足条件的代码块</label>
                    </div>
                </div>
                <!-- 问题2 -->
                <div style="flex-shrink: 1;">
                    <p class="quiz-question">2. 以下代码执行后输出什么？</p>
                    <div class="code-box quiz-code-box">
                        <pre><code class="cpp">int num = 75;
if (num >= 80) {
    cout << "良";
} else if (num >= 70) {
    cout << "中";
} else if (num >= 60) {
    cout << "及格";
}</code></pre>
                    </div>
                    <div class="quiz-options">
                        <input type="radio" name="q2" id="q2a"> 
                        <label for="q2a">A. 良</label><br>
                        <input type="radio" name="q2" id="q2b"> 
                        <label for="q2b">B. 中</label><br>
                        <input type="radio" name="q2" id="q2c"> 
                        <label for="q2c">C. 及格</label>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 依赖脚本 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
    <script>
        // 初始化Reveal.js
        Reveal.initialize({
            width: '100%',
            height: '100%',
            controls: true,
            progress: true,
            center: true,
            hash: true,
            transition: 'slide',
            plugins: [ RevealHighlight ]
        });

        // 成绩等级评定交互逻辑
        function judgeScoreLevel() {
            const score = Number(document.getElementById('scoreInput').value);
            const resultEl = document.getElementById('scoreResult');
            
            // 输入合法性校验
            if (isNaN(score) || score < 0 || score > 100) {
                resultEl.textContent = "❌ 请输入0-100之间的有效成绩！";
                resultEl.style.color = "#e74c3c";
                return;
            }

            // 多分支判断逻辑
            let level = "";
            if (score >= 90) {
                level = "优";
            } else if (score >= 80) {
                level = "良";
            } else if (score >= 70) {
                level = "中";
            } else if (score >= 60) {
                level = "及格";
            } else {
                level = "差";
            }

            resultEl.textContent = `✅ 成绩${score} → 等级：${level}`;
            resultEl.style.color = "#2ecc71";
        }

        // 分段函数计算交互逻辑
        function calcPiecewiseFunc() {
            const x = Number(document.getElementById('funcXInput').value);
            const resultEl = document.getElementById('funcResult');
            
            // 输入合法性校验
            if (isNaN(x)) {
                resultEl.textContent = "❌ 请输入有效的数字！";
                resultEl.style.color = "#e74c3c";
                return;
            }

            // 多分支分段计算
            let result = 0;
            if (x > 10) {
                result = x + 5;
            } else if (x >= 0) {
                result = x * 2;
            } else {
                result = x - 3;
            }

            resultEl.textContent = `✅ f(${x}) = ${result}`;
            resultEl.style.color = "#2ecc71";
        }
    </script>
</body>
</html>
